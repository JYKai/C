# C 프로그램의 구조와 데이터 출력 방법

## 프로그램과 main 함수 구조

### main 함수 구조
```c
int main(void)
{
    /* 작성자 : 김지윤
       제목 : 10과 20을 더하는 프로그램 */
    10 + 20;

    // 실행코드
    return 0;
}
```
- ```int main(void)``` = head
    - 함수 원형(function prototype)이라고 하며 함수의 이름과 필요한 데이터 등을 표시
- {} = body
- ```return 0;```을 넣어 프로그램을 종료한다.
- ```/* ~ */``` : ~ 부분에 대한 주석 처리
    - 여러 행을 한 번에 주석 처리할 때 사용
    - 행의 중간 부분을 주석 처리할 때도 사용
- ```//``` : // 부터 해당 줄 끝까지 주석 처리


### 출력 함수(printf)의 사용법
```c
// 문자열을 화면에 출력하는 프로그램

#include <stdio.h> // stdio : standard input output

int main(void)
{
    printf("Be happy");
    printf("My friend");

    return 0; // Be happyMy friend    
}
```

### 제어 문자 출력
제어 문자란 문자는 아니지만, 출력 방식에 영향을 주는 문자를 의미한다.
```c
// 제어 문자를 사용한 출력

#include <stdio.h>

int main(void)
{
    printf("Be happy\n");
    printf("123456789\n");
    printf("My\tfriend\n");

    printf("Goot\bd\tchange\n");
    printf("Cow\rW\a\n");

    return 0;
}
```
- ```\n```(개행, new kine) : 다음 줄로 이동
- ```\t``` : 커서를 다음 탭 위치로 이동
- ```\b```(백스페이스, backspace) : 커서를 한 칸 왼쪽으로 이동
- ```\r```(캐리지 리턴, carriage return) : 커서를 맨 앞으로 이동
- ```\a```(알럿 경보, alert) : 벨소리

### 정수와 실수 출력
printf 함수는 기본적으로 문자열을 출력하는 함수이기 때문에 숫자를 출력할 때는 변환 문자를 사용하여 문자열로 변환하는 과정이 필요하다.
- 정수 : %d (decimal)
- 실수 : %lf (long float)
```c
// 정수와 실수 출력

#include <stdio.h>

int main(void)
{
    printf("%d\n", 10);
    printf("%lf\n", 3.14);
    printf("%.1lf\n", 3.45);
    printf("%.10lf\n", 3.4);

    printf("%d와 %d의 합흔 %d입니다.\n", 10, 20, 10 + 20);
    printf("%.1lf - %.1lf = %.1lf\n", 3.4, 2.3, 3.4 - 2.3);

    return 0;
}
```
- ```%lf```로 실수를 출력하면 소수점 이하 6자리까지 출력된다.
    - %와 lf 사이에 원하는 소수점 자리수를 지정해주면, 잘리는 값은 반올림된다.

</br>

## 상수와 데이터 표현 방법
C 언어는 메모리에 직접 접근하거나 비트 단위의 연산을 수행하여 데이터를 효율적으로 처리할 수 있다.

### 정수 상수 표현법

**C 언어에서 진법 표현**  
- 8진수는 숫자 앞에 0 : 014
- 16진수는 숫자 앞에 0x : 0xc
```c
// 세 가지 진법의 정수 상수

#include <stdio.h>

int main(void)
{
    printf("%d\n", 12);  // 12
    printf("%d\n", 014); // 12
    printf("%d\n", 0xc); // 12

    return 0;
}
```
- 8진수 출력 : ```%o```
- 16진수 출력
    - 소문자 출력 : ```%x```
    - 대문자 출력 : ```%X```

### 실수 상수 표현법
- 소수점 앞이나 뒤의 무의미한 0은 생략할 수 있다.
- e는 밑수 10을 의미하며 대문자로 쓸 수도 있다.
```c
// 지수 형태의 실수 상수

#include <stdio.h>

int main(void)
{
    printf("%.1lf\n", 1e6);
    printf("%.7lf\n", 3.14e-5);
    printf("%le\n", 0.0000314); // 3.140000e-05, 소수점 형태의 실수를 지수 형태로 출력
    printf("%.2le\n", 0.0000314); // 3.14e-05, 지수 형태로 소수점 이하 둘째 자리까지 출력

    return 0;
}
```
- ```%le``` : 지수 형태로 출력


### 문자와 문자열 상수 표현법
문자는 작은따옴표로 묶고 문자열은 큰따옴표로 묶는다.
```c
// 문자와 문자열 데이터의 출력

#include <stdio.h>

int main(void)
{
    printf("%c\n", 'A');
    printf("%s\n", "A");
    printf("%c은 %s입니다.\n", '1', "first");

    return 0;
}
```
- ```%c``` : 문자 변환
- ```%s``` : 문자열 변환, 변환 문자 없이도 바로 출력할 수 있음.

### 상수가 컴파일된 후의 비트 형태

**정수 상수와 실수 상수의 컴파일**  
- 정수 상수 : 4바이트
- 실수 상수 : 8바이트
정수는 가장 빠르고 정확하게 연산될 수 있는 형태이므로 프로그래밍할 때 가능하면 정수 상수를 사용하는 것이 좋다.

**문자 상수의 컴파일**  
문자 상수는 컴파일하면 2진수 형태의 아스키 코드 값으로 번역된다. 따라서, 정수와 같은 방식으로 처리된다.
- 'A' = 65

### 정수 상수가 컴파일된 후의 비트 형태

**양수의 변환**  
모든 비트가 1인 2진수를 10진수로 바꾸면 255이므로 결국 1바이트(8비트)로 표현할 수 있는 정수 값의 범위는 0 ~ 255이다.
- 1비트 = 0 ~ 2^1-1 = 0 ~ 1
- 8비트 = 0 ~ 2^8 - 1 = 0 ~ 255
- 32비트 = 0 ~ 2^32 - 1 = 0 ~ 4294967295
- 값의 크기와 상관없이 데이터의 크기를 8바이트로 만들고 싶다면 정수에 접미사 LL(Long Long) 또는 ll을 붙여서 사용한다.
```c
13 \\ 4바이트 처리
13LL \\ 8바이트 처리
```

**음수의 변환**  
음수는 절댓값을 2의 보수로 바꾸어 처리한다. 2의 보수란 2진수의 0과 1을 바꾼 상태에서 1을 더한 값을 말한다.
- 음수를 2의 보수로 처리하는 이유는 특별한 변환 과정 없이 바로 양수와 음수를 더할 수 있기 때문이다.

### 실수 상수가 컴파일된 후의 비트 형태
실수는 제한된 데이터 크기에 수를 표현하기 위해 IEEE 754 표준을 따른다.
- single, double, quad의 세 가지 형식을 사용하는데 주로 double(8바이트) 형식을 사용한다.

**double**  
- 부호 비트 : 가장 왼쪽 비트로 양수는 0, 음수는 1로 표시
- 지수부 : 부호 비트 이후 11비트는 지수값을 의미한다.
- 소수부 : 나머지 52비트는 소수값을 의미한다.
- 15자리까지 유효 숫자를 사용할 수 있다.
