# 다차원 배열과 포인터 배열

## 다차원 배열

### 2차원 배열 선언과 요소 사용
형태가 같은 배열이 여러 개 필요한 경우 이들을 모아 배열을 만들 수 있다.
```c
// 학생 3명과 네 과목 총점과 평균을 구하는 프로그램

#include <stdio.h>

int main(void)
{
    int score[3][4];                // 3명과 네 과목 점수를 저장할 2차원 배열 선언
    int total;
    double avg;
    int i, j;

    for (i = 0; i < 3; i++)
    {
        printf("4과목의 점수 입력 : ");
        for (j = 0; j < 4; j++)
        {
            scanf("%d", &score[i][j]);
        }
    }

    for (i = 0; i < 3; i++)
    {
        total = 0;
        for (j = 0; j < 4; j++)
        {
            total += score[i][j];
        }
        avg = total / 4.0;
        printf("총점 : %d, 평균 : %.1lf\n", total, avg);
    }

    return 0;
}
```
- 2차원 배열 선언 : ```int score[행의 수][열의 수];``` 


### 2차원 배열 초기화
2차원 배열의 초기화는 중괄호 쌍을 2개 써서 행 부분도 표시한다.
```c
// 2차원 배열의 다양한 초기화 방법

#include <stdio.h>

int main(void)
{
    int num[3][4] = {
        {1, 2, 3, 4},
        {5, 6, 7, 8},
        {9, 10, 11, 12}
    };

    int i, j;

    for (i = 0; i < 3; i++)
    {
        for (j = 0; j < 4; j++)
        {
            printf("%5d", num[i][j]);
        }
        printf("\n");
    }

    return 0;
}
```
- 일부 초깃값을 생략하는 것도 가능하다.
    - ``` int num[3][4] = { {1}, {5, 6}, {9, 10, 11} }; ```
    - 각 행의 앞에서부터 차례대로 값을 저장하고 남은 요소는 0으로 자동 초기화된다.
- 행의 수를 아예 생략하고 선언할 수 있다.
    - ``` int num[][4] = { {1}, {2, 3}, {4, 5, 6} }; ```
    - 컴파일러는 행의 중괄호의 개수로 행의 수를 결정하여 저장 공간을 할당한다.
    - 한 행의 크기는 열의 수로 결정하기 때문에 초기화할지라도 열의 개수는 생략할 수 없다.
- 1차원 배열을 초기화하는 방식으로 초기화할 수 있다.
    - ``` int num[3][4] = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12}; ```
    - 저장 공간의 수만큼 초깃값을 나열하며, 행 단위로 차례로 저장한다.
    - 저장 공간의 수보다 초깃값이 적은 경우에는 남은 저장 공간 모두 0으로 초기화한다.
    - ``` int num[][4] = {1, 2, 3, 4, 5, 6}; ```
    - 행의 첨자를 적지 않은 상태에서 1차원 배열 초기화 방식을 사용하면 열의 수에 맞춰 초깃값을 끊어 행의 수를 결정한다.
- 배열의 모든 저장공간을 0으로 초기화 하는 방법 = ``` int num[100][100] = {0}; ```


### 2차원 char 배열
```c
// 여러 개의 동물 이름을 입출력하는 프로그램

#include <stdio.h>

int main(void)
{
    char animal[5][20];     // 2차원 char 배열 선언
    int i;
    int count;

    count = sizeof(animal) / sizeof(animal[0]);
    for (i = 0; i < count; i++)
    {
        scanf("%s", animal[i]);
    }

    for (i = 0; i < count; i++)
    {
        printf("%s\t", animal[i]);
    }

    return 0;
}
```
- animal[i]은 배열명으로 부분배열의 시작 위치 값이다. 따라서 앞에 주소 연산자 &를 붙일 필요가 없다.
    - 2차원 배열에서는 부분배열의 이름이 됨을 기억하자.


### 2차원 char 배열 초기화
- 다른 2차원 배열처럼 배열요소를 하나씩 초기화하는 방법
- 각 행의 단위를 문자열로 초기화하는 방법
```c
// 2차원 char 배열에 동물 이름을 초기화하는 방법

#include <stdio.h>

int main(void)
{
    char animal1[2][10] = {
        {'d', 'o', 'g', '\0'},
        {'t', 'i', 'g', 'e', 'r', '\0'}
    };

    char animal2[2][10] = { "dog", "tiger" };

    int i;

    for (i = 0; i < 2; i++)
    {
        printf("%s ", animal1[i]);
    }
    printf("\n");
    for (i = 0; i < 2; i++)
    {
        printf("%s ", animal2[i]);
    }

    return 0;
}
```
- ```char animal2[][10] = { "dog", "tiger" };```
    - 2개의 문자열로 각 행을 초기화할 수 있다.


### 3차원 배열
```c
// 2개 반 3명의 학생과 4과목 점수를 저장하는 3차원 배열

#include <stdio.h>

int main(void)
{
    int score[2][3][4] = {
        { { 72, 80, 95, 60}, {86, 21, 44, 53}, {23, 76, 88, 98} },
        { { 71, 10, 35, 40}, {56, 61, 47, 58}, {93, 26, 38, 48} }
    };

    int i, j, k;

    for (i = 0; i < 2; i++)
    {
        printf("%d반의 점수...\n", i + 1);
        for (j = 0; j < 3; j++)
        {
            for (k = 0; k < 4; k++)
            {
                printf("%5d", score[i][j][k]);
            }
            printf("\n");
        }
        printf("\n");
    }

    return 0;
}
```
- 초깃값이 저장 공간에 채워지는 순서나 초깃값이 부족한 경우 남는 저장 공간을 채우는 방식은 2차원 배열과 같다.

</br>

## 포인터 배열
처리할 데이터가 여기저기 흩어져 있더라도 그 주소만 따로 모아놓으면 반복문으로 모든 데이터를 쉽게 처리할 수 있으며, 이때 포인터 배열을 사용한다.

### 포인터 배열 선언과 사용
```c
// 포인터 배열로 여러 개 문자열 출력

#include <stdio.h>

int main(void)
{
    char *pary[5];          // 포인터 배열 선언. pointer와 array의 약어로 pary
    int i;

    pary[0] = "dog";
    pary[1] = "elephant";
    pary[2] = "horse";
    pary[3] = "tiger";
    pary[4] = "lion";

    for (i = 0; i < 5; i++) { printf("%s\n", pary[i]); }

    return 0;
}
```
- 문자열 상수는 변경이 불가능한 메모리 영역에 보관되고 포인터 배열에는 그 첫 번째 문자의 주소가 저장된다.
- char 포인터 배열의 초기화는 2차원 char 배열의 초기화와 같다. 선언과 동시에 문자열을 상수로 초기화하는 것도 가능하다.
- 포인터 배열의 초기화는 문자열의 시작 주소만 배열 요소에 저장되며, 2차원 char 배열의 초기화는 문자열 자체를 배열의 공간에 저장한다.


### 2차원 배열처럼 활용하는 포인터 배열
```c
// 여러 개의 1차원 배열을 2차원 배열처럼 사용

#include <stdio.h>

int main(void)
{
    int ary1[4] = { 1, 2, 3, 4 };
    int ary2[4] = { 11, 12, 13, 14 };
    int ary3[4] = { 21, 22, 23, 24 };
    int *pary[3] = { ary1, ary2, ary3 };    // int형을 가리키는 포인터에 저장
    
    int i, j;

    for (i = 0; i < 3; i++)
    {
        for (j = 0; j < 4; j++)
        {
            printf("%5d", pary[i][j]);
        }
        printf("\n");
    }

    return 0;
}
```